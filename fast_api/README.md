# Проект FastAPI с PostgreSQL и Alembic

Этот проект представляет собой простое приложение на FastAPI, которое подключается к базе данных PostgreSQL и использует Alembic для управления миграциями базы данных. Приложение структурировано с учетом лучших практик для чистой архитектуры и удобства поддержки.

## Содержание

- [Функции](#функции)
- [Используемые технологии](#используемые-технологии)
- [Установка](#установка)
- [Конфигурация](#конфигурация)
- [Запуск приложения](#запуск-приложения)
- [Миграции базы данных](#миграции-базы-данных)
- [API-эндпоинты](#api-эндпоинты)
- [Тестирование](#тестирование)
- [Участие в разработке](#участие-в-разработке)
- [Лицензия](#лицензия)

## Функции

- RESTful API, созданный с помощью FastAPI.
- PostgreSQL в качестве базы данных.
- Alembic для управления миграциями базы данных.
- Докеризованная среда для простоты установки и развертывания.
- Проверка готовности базы данных.

## Используемые технологии

- [FastAPI](https://fastapi.tiangolo.com/)
- [PostgreSQL](https://www.postgresql.org/)
- [Alembic](https://alembic.sqlalchemy.org/)
- [Docker](https://www.docker.com/)
- [Poetry](https://python-poetry.org/)
- [Pydantic](https://pydantic-docs.helpmanual.io/)

## Установка

Чтобы настроить проект локально, выполните следующие шаги:

1. **Клонируйте репозиторий**:

    ```bash
    git clone https://github.com/yourusername/your-repo.git
    cd your-repo
    ```

2. **Установите зависимости**:

   Убедитесь, что у вас установлен [Poetry](https://python-poetry.org/). Затем выполните:

    ```bash
    poetry install
    ```

3. **Создайте файл `.env`**:

    Создайте файл `.env` в корневом каталоге и установите следующие переменные окружения:

    ```env
    DATABASE_URL=postgresql://user:password@db:5432/dbname
    ```

## Конфигурация

- Конфигурация приложения управляется с помощью `BaseSettings` от Pydantic.
- Переменные окружения загружаются из файла `.env`.

## Запуск приложения

Этот проект использует Docker для простоты установки. Чтобы запустить приложение, выполните следующие шаги:

1. **Соберите и запустите Docker-контейнеры**:

    ```bash
    docker-compose up --build
    ```

2. **Доступ к API**:

   API будет доступен по адресу `http://localhost:8000`. Вы можете просмотреть автоматическую документацию API по следующим адресам:

   - [Swagger UI](http://localhost:8000/docs)
   - [Redoc](http://localhost:8000/redoc)

## Миграции базы данных

Проект использует Alembic для управления миграциями базы данных. Чтобы применить миграции, выполните следующие шаги:

1. **Запустите миграции**:

    ```bash
    docker-compose run migrations
    ```

2. **Создание новой миграции**:

   Чтобы создать новую миграцию после внесения изменений в модели, выполните:

    ```bash
    docker-compose run migrations alembic revision --autogenerate -m "Ваше сообщение о миграции"
    ```

3. **Обновите базу данных**:

    Чтобы применить все миграции, выполните:

    ```bash
    docker-compose run migrations alembic upgrade head
    ```

## API-эндпоинты

Это приложение включает следующие API-эндпоинты (добавьте свои специфические эндпоинты здесь):

- **GET /items**: Получить все элементы.
- **POST /items**: Создать новый элемент.
- **GET /items/{item_id}**: Получить конкретный элемент по ID.
- **PUT /items/{item_id}**: Обновить конкретный элемент по ID.
- **DELETE /items/{item_id}**: Удалить конкретный элемент по ID.

## Тестирование

Вы можете запустить тесты для приложения, используя следующую команду:

```bash
pytest
